{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/.vscode/Libray%20Management%20system/Frontend/lib-sys/src/app/author/page.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { FaEdit, FaTrash, FaPlus, FaTimes } from \"react-icons/fa\";\n\nconst AuthorManager = () => {\n  const [authorsData, setAuthorsData] = useState([]);\n  const [newAuthor, setNewAuthor] = useState({\n    name: \"\",\n    bio: \"\",\n    birthdate: \"\",\n    books: [],\n  });\n  const [isFormOpen, setIsFormOpen] = useState(false);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [editingAuthorId, setEditingAuthorId] = useState(null);\n\n  useEffect(() => {\n    fetch(\"http://localhost:8800/api/author\")\n      .then((response) => response.json())\n      .then((data) => setAuthorsData(data))\n      .catch((error) => console.error(\"Error fetching authors:\", error));\n  }, []);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setNewAuthor({ ...newAuthor, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const requestConfig = {\n      method: isEditMode ? \"PUT\" : \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(newAuthor),\n    };\n\n    const url = isEditMode\n      ? `http://localhost:8800/api/author/${editingAuthorId}`\n      : \"http://localhost:8800/api/author\";\n\n    fetch(url, requestConfig)\n      .then((response) => response.json())\n      .then((data) => {\n        if (isEditMode) {\n          setAuthorsData((prevData) =>\n            prevData.map((author) =>\n              author._id === editingAuthorId ? data : author\n            )\n          );\n        } else {\n          setAuthorsData((prevData) => [...prevData, data]);\n        }\n        resetForm();\n      })\n      .catch((error) => console.error(\"Error submitting author:\", error));\n  };\n\n  const handleDelete = (authorId) => {\n    fetch(`http://localhost:8800/api/author/${authorId}`, {\n      method: \"DELETE\",\n    })\n      .then(() => {\n        setAuthorsData((prevData) =>\n          prevData.filter((author) => author._id !== authorId)\n        );\n      })\n      .catch((error) => console.error(\"Error deleting author:\", error));\n  };\n\n  const handleEdit = (author) => {\n    setNewAuthor({\n      name: author.name,\n      bio: author.bio,\n      birthdate: author.birthdate,\n      books: author.books,\n    });\n    setIsEditMode(true);\n    setEditingAuthorId(author._id);\n    setIsFormOpen(true);\n  };\n\n  const resetForm = () => {\n    setNewAuthor({ name: \"\", bio: \"\", birthdate: \"\", books: [] });\n    setIsEditMode(false);\n    setEditingAuthorId(null);\n    setIsFormOpen(false);\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6\">\n      <h2 className=\"text-2xl font-semibold text-center mb-4\">Author Manager</h2>\n\n      {/* Add Author Button */}\n      <button\n        onClick={() => setIsFormOpen(!isFormOpen)}\n        className=\"flex items-center bg-blue-500 text-white px-4 py-2 rounded mb-4\"\n      >\n        {isFormOpen ? <FaTimes className=\"mr-2\" /> : <FaPlus className=\"mr-2\" />}\n        {isFormOpen ? \"Close Form\" : \"Add Author\"}\n      </button>\n\n      {/* Author Form */}\n      {isFormOpen && (\n        <form onSubmit={handleSubmit} className=\"mb-8 p-6 border rounded shadow-md\">\n          <h3 className=\"text-xl font-medium mb-4\">{isEditMode ? \"Edit Author\" : \"Add Author\"}</h3>\n          <div className=\"space-y-4\">\n            <input\n              type=\"text\"\n              name=\"name\"\n              value={newAuthor.name}\n              onChange={handleChange}\n              placeholder=\"Author Name\"\n              className=\"w-full p-2 border rounded\"\n            />\n            <textarea\n              name=\"bio\"\n              value={newAuthor.bio}\n              onChange={handleChange}\n              placeholder=\"Author Bio\"\n              className=\"w-full p-2 border rounded\"\n            />\n            <input\n              type=\"date\"\n              name=\"birthdate\"\n              value={newAuthor.birthdate}\n              onChange={handleChange}\n              className=\"w-full p-2 border rounded\"\n            />\n            <button\n              type=\"submit\"\n              className=\"w-full p-3 bg-blue-500 text-white rounded\"\n            >\n              {isEditMode ? \"Update Author\" : \"Submit\"}\n            </button>\n          </div>\n        </form>\n      )}\n\n      {/* Authors List */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {authorsData.map((author) => (\n          <div key={author._id} className=\"border rounded shadow-md p-4 relative\">\n            <div className=\"flex justify-between items-center\">\n              <h3 className=\"text-lg font-semibold\">{author.name}</h3>\n              <div className=\"flex gap-2\">\n                {/* Edit Icon */}\n                <button onClick={() => handleEdit(author)} className=\"text-yellow-500 hover:text-yellow-700\">\n                  <FaEdit />\n                </button>\n                {/* Delete Icon */}\n                <button onClick={() => handleDelete(author._id)} className=\"text-red-500 hover:text-red-700\">\n                  <FaTrash />\n                </button>\n              </div>\n            </div>\n            <p className=\"text-sm mt-2\">{author.bio}</p>\n            <p className=\"text-sm text-gray-600\">Birthdate: {author.birthdate}</p>\n            <p className=\"text-sm text-gray-600\">Books: {author.books.length}</p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default AuthorManager;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/.vscode/Libray%20Management%20system/Frontend/lib-sys/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,0HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}